(()=>{"use strict";!function(e){let t=new Image;t.onload=t.onerror=function(){!function(e){let t=!0===e?"webp":"no-webp";document.documentElement.classList.add(t)}(2==t.height)},t.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"}(),document.addEventListener("DOMContentLoaded",(function(){const e=document.querySelector(".footer__form");function t(e){e.classList.add("error")}function n(e){e.classList.remove("error")}function o(e){return!/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,8})+$/.test(e.value)}e.addEventListener("submit",(async function(s){s.preventDefault();let a=function(e){let s=0,a=document.querySelectorAll(".form-required");for(let e=0;e<a.length;e++){const i=a[e];n(i),i.classList.contains("email")?o(i)&&(t(i),s++):""===i.value&&(t(i),s++)}return s}(),i=new FormData(e);if(0===a){e.classList.add("sending");let t=await fetch("../sendmail.php",{method:"POST",body:i});if(t.ok){let n=await t.json();alert(n.message),e.reset(),e.classList.remove("sending")}else alert("Ошибка"),e.classList.remove("sending")}else alert("Заполните обязательные поля")}))}))})();