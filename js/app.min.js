(()=>{"use strict";!function(e){let t=new Image;t.onload=t.onerror=function(){!function(e){let t=!0===e?"webp":"no-webp";document.documentElement.classList.add(t)}(2==t.height)},t.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"}(),document.addEventListener("DOMContentLoaded",(function(){const e=document.querySelector(".footer__form"),t=document.querySelector(".footer__title");function n(e){e.classList.add("error")}function o(e){e.classList.remove("error")}function r(e){return!/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,8})+$/.test(e.value)}e.addEventListener("submit",(async function(l){l.preventDefault();let c=function(e){let t=0,l=document.querySelectorAll(".form-required");for(let e=0;e<l.length;e++){const c=l[e];o(c),c.classList.contains("email")?r(c)&&(n(c),t++):""===c.value&&(n(c),t++)}return t}(),s=new FormData(e);if(0===c){e.classList.add("sending");let n=await fetch("../sendmail.php",{method:"POST",body:s});if(n.ok){let o=await n.json();alert(o.message),e.reset(),e.classList.remove("sending"),t.textContent="Супер!",e.innerHTML='<p class="footer__success-text">Нам ушло уведомление! Как только мы его получим, сразу выйдем на связь для уточнения деталей.</p>'}else alert("Ошибка"),e.classList.remove("sending")}else alert("Заполните обязательные поля")}))})),window.addEventListener("DOMContentLoaded",(function(){[].forEach.call(document.querySelectorAll(".phone"),(function(e){let t;function n(e){e.keyCode&&(t=e.keyCode),this.selectionStart<3&&e.preventDefault();let n="+7 (___) ___ ____",o=0,r=n.replace(/\D/g,""),l=this.value.replace(/\D/g,""),c=n.replace(/[_\d]/g,(function(e){return o<l.length?l.charAt(o++)||r.charAt(o):e}));o=c.indexOf("_"),-1!=o&&(o<5&&(o=3),c=c.slice(0,o));let s=n.substr(0,this.value.length).replace(/_+/g,(function(e){return"\\d{1,"+e.length+"}"})).replace(/[+()]/g,"\\$&");s=new RegExp("^"+s+"$"),(!s.test(this.value)||this.value.length<5||t>47&&t<58)&&(this.value=c),"blur"==e.type&&this.value.length<5&&(this.value="")}e.addEventListener("input",n,!1),e.addEventListener("focus",n,!1),e.addEventListener("blur",n,!1),e.addEventListener("keydown",n,!1)}))})),function(){const e=document.querySelector(".scroll-height"),t=document.querySelector(".scroll-about"),n=document.querySelector(".scroll-about__box-3"),o=document.querySelector(".scroll-about__box-6"),r=document.querySelector(".scroll-mass-media"),l=document.querySelector(".height"),c=document.querySelector(".about"),s=document.querySelector(".about .about__box-3"),i=document.querySelector(".about .about__box-6"),a=document.querySelector(".mass-media");e.addEventListener("click",(function(e){e.preventDefault(),l.scrollIntoView({behavior:"smooth"})})),t.addEventListener("click",(function(e){e.preventDefault(),c.scrollIntoView({behavior:"smooth"})})),n.addEventListener("click",(function(e){e.preventDefault(),s.scrollIntoView({behavior:"smooth"})})),o.addEventListener("click",(function(e){e.preventDefault(),i.scrollIntoView({behavior:"smooth"})})),r.addEventListener("click",(function(e){e.preventDefault(),a.scrollIntoView({behavior:"smooth"})}))}()})();